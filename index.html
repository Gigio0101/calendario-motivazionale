<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>Calendario Motivazionale</title>

    <!-- PWA / iPhone -->
    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#111827" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <link rel="apple-touch-icon" href="icon-512.png" />

    <!-- Splash screen iOS (opzionali ma già pronti) -->
    <link rel="apple-touch-startup-image" href="splash-640x1136.png"
          media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)">

    <link rel="apple-touch-startup-image" href="splash-750x1334.png"
          media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)">

    <link rel="apple-touch-startup-image" href="splash-828x1792.png"
          media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2)">

    <link rel="apple-touch-startup-image" href="splash-1125x2436.png"
          media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)">

    <link rel="apple-touch-startup-image" href="splash-1170x2532.png"
          media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3)">

    <link rel="apple-touch-startup-image" href="splash-1179x2556.png"
          media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3)">

    <link rel="apple-touch-startup-image" href="splash-1284x2778.png"
          media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3)">

    <link rel="apple-touch-startup-image" href="splash-1290x2796.png"
          media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3)">

    <link rel="stylesheet" href="style.css" />
</head>
<body>
<div class="app-shell">

    <header class="app-header">
        <h1>Calendario motivazionale</h1>
        <p>Tieni traccia di cardio, allenamenti, dieta e peso ogni giorno.</p>
    </header>

    <!-- GIORNO CORRENTE / NAVIGAZIONE NEL TEMPO -->
    <section class="card">
        <h2>Giorno</h2>

        <div class="day-nav">
            <button id="prev-day-btn">&larr;</button>
            <div class="day-nav-center">
                <div id="current-day-label" class="day-label">–</div>
                <input type="date" id="current-date-input" />
            </div>
            <button id="next-day-btn">&rarr;</button>
        </div>
        <button id="today-btn" class="today-btn">Oggi</button>

        <div class="field">
            <label class="field-label">
                <input type="checkbox" id="cardio-checkbox" />
                Cardio completato (60' walking pad)
            </label>
            <div class="field-subtitle">Motivo se NON hai fatto il cardio</div>
            <select id="cardio-reason-select">
                <option value="">— Seleziona un motivo —</option>
                <option value="tempo">Mancanza di tempo</option>
                <option value="stanchezza">Stanchezza</option>
                <option value="salute">Problemi di salute</option>
                <option value="lavoro">Impegni di lavoro</option>
                <option value="viaggio">Viaggio / spostamenti</option>
                <option value="altro">Altro</option>
            </select>
        </div>

        <div class="field">
            <label for="workout-select" class="field-title">Allenamento</label>
            <select id="workout-select">
                <option value="Rest">Rest</option>
                <option value="Leg">Leg</option>
                <option value="Pull">Pull</option>
                <option value="Push">Push</option>
            </select>
            <div class="field-subtitle">
                Motivo se NON ti sei allenato (lascia vuoto se il rest è programmato)
            </div>
            <select id="workout-reason-select">
                <option value="">— Seleziona un motivo —</option>
                <option value="tempo">Mancanza di tempo</option>
                <option value="stanchezza">Stanchezza</option>
                <option value="salute">Problemi di salute</option>
                <option value="lavoro">Impegni di lavoro</option>
                <option value="viaggio">Viaggio / spostamenti</option>
                <option value="altro">Altro</option>
            </select>
        </div>

        <div class="field">
            <label class="field-label">
                <input type="checkbox" id="diet-checkbox" />
                Aderenza piano alimentare
            </label>
            <div class="field-subtitle">Motivo se NON hai rispettato il piano</div>
            <select id="diet-reason-select">
                <option value="">— Seleziona un motivo —</option>
                <option value="tempo">Mancanza di tempo</option>
                <option value="stanchezza">Stanchezza</option>
                <option value="salute">Problemi di salute</option>
                <option value="lavoro">Impegni di lavoro</option>
                <option value="viaggio">Viaggio / spostamenti</option>
                <option value="altro">Altro</option>
            </select>
        </div>

        <div class="field">
            <label for="weight-input" class="field-title">Peso di oggi (kg)</label>
            <input type="number" id="weight-input" step="0.1" inputmode="decimal" />
        </div>

        <div class="field">
            <label for="notes-textarea" class="field-title">Note</label>
            <textarea id="notes-textarea"
                      placeholder="Eventuali note della giornata"></textarea>
        </div>

        <div id="day-complete-badge" class="day-complete" style="display:none;">
            <span class="day-complete-icon">✓</span>
            <span>Giornata completata, ottimo lavoro.</span>
        </div>
    </section>

    <!-- PESO CORPOREO / OBIETTIVO -->
    <section class="card">
        <h2>Peso corporeo</h2>

        <div class="field">
            <label for="start-weight-input" class="field-title">Peso di partenza (kg)</label>
            <input type="number" id="start-weight-input" step="0.1" inputmode="decimal" />
        </div>

        <div class="field">
            <label for="goal-weight-input" class="field-title">Peso obiettivo (kg)</label>
            <input type="number" id="goal-weight-input" step="0.1" inputmode="decimal" />
        </div>

        <div class="field">
            <div class="field-title">Stato attuale</div>
            <p class="weight-status">
                Oggi: <span id="current-weight-display">–</span> kg<br />
                Avanzamento obiettivo peso:
                <span id="weight-progress-percent">0%</span>
            </p>
        </div>
    </section>

    <!-- STATISTICHE GLOBALI (SETT / MES / ANNO) -->
    <section class="card">
        <h2>Statistiche</h2>

        <div class="stats-tabs">
            <button class="stats-tab active" data-mode="week">Settimana</button>
            <button class="stats-tab" data-mode="month">Mese</button>
            <button class="stats-tab" data-mode="year">Anno</button>
        </div>

        <p id="stats-mode-label" class="stats-mode-label">Settimana corrente</p>

        <div class="summary-row">
            <span>Cardio</span>
            <span id="stats-cardio-value" class="stat-value">0 / 0</span>
            <span id="stats-cardio-percent" class="percent">0%</span>
        </div>
        <div class="progress-bar">
            <div id="stats-cardio-progress" class="progress-fill"></div>
        </div>

        <div class="summary-row">
            <span>Allenamenti</span>
            <span id="stats-gym-value" class="stat-value">0 / 0</span>
            <span id="stats-gym-percent" class="percent">0%</span>
        </div>
        <div class="progress-bar">
            <div id="stats-gym-progress" class="progress-fill"></div>
        </div>

        <div class="summary-row">
            <span>Dieta</span>
            <span id="stats-diet-value" class="stat-value">0 / 0</span>
            <span id="stats-diet-percent" class="percent">0%</span>
        </div>
        <div class="progress-bar">
            <div id="stats-diet-progress" class="progress-fill"></div>
        </div>

        <h3>Mancato rispetto (modalità corrente)</h3>
        <div class="summary-row">
            <span>Cardio non fatto</span>
            <span id="stats-cardio-missed-total" class="stat-value">0</span>
        </div>
        <div class="summary-row">
            <span>Allenamenti mancati</span>
            <span id="stats-gym-missed-total" class="stat-value">0</span>
        </div>
        <div class="summary-row">
            <span>Dieta non rispettata</span>
            <span id="stats-diet-missed-total" class="stat-value">0</span>
        </div>

        <div id="stats-reasons-list" class="reasons-list">
            <!-- Dettaglio motivi -->
        </div>

        <p class="note">
            Settimana: target 7 cardio / 3 allenamenti / 7 dieta.<br />
            Mese: 12 allenamenti (~3 a settimana). Anno: 156 allenamenti (~3 a settimana).
        </p>
    </section>

    <!-- STATISTICHE INTERVALLO PERSONALIZZATO -->
    <section class="card">
        <h2>Intervallo personalizzato</h2>
        <div class="range-row">
            <label>
                Dal
                <input type="date" id="range-start" />
            </label>
            <label>
                Al
                <input type="date" id="range-end" />
            </label>
        </div>
        <button id="range-calc-btn">Calcola statistiche</button>

        <div class="range-results">
            <div class="summary-row">
                <span>Cardio</span>
                <span id="range-cardio-count" class="stat-value">0</span>
            </div>
            <div class="summary-row">
                <span>Allenamenti</span>
                <span id="range-gym-count" class="stat-value">0</span>
            </div>
            <div class="summary-row">
                <span>Dieta</span>
                <span id="range-diet-count" class="stat-value">0</span>
            </div>
        </div>
    </section>

    <p class="save-hint">
        I dati vengono salvati automaticamente sul dispositivo (localStorage).
    </p>

</div>

<script src="script.js"></script>
</body>
</html>
