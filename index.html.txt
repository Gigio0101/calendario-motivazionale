<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
    <title>Calendario Motivazionale</title>

    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#020617">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <link rel="apple-touch-icon" href="icon-512.png">

    <!-- Splash screen (opzionali, puoi aggiungere i file dopo) -->
    <link rel="apple-touch-startup-image" href="splash-1179x2556.png"
          media="(device-width:393px) and (device-height:852px) and (-webkit-device-pixel-ratio:3)">

    <link rel="stylesheet" href="style.css" />
</head>

<body>
<div class="app-shell">

    <header class="app-header">
        <h1>Calendario motivazionale</h1>
        <p>Tieni traccia di cardio, allenamenti, dieta e peso ogni giorno.</p>
    </header>

    <!-- ==========================
         CARD GIORNO (FIX COMPLETO)
         ========================== -->
    <section class="card">
        <h2>Giorno</h2>

        <div class="day-nav">
            <button id="prev-day-btn" class="circle-btn">←</button>

            <div class="day-center">
                <div id="current-day-label" class="weekday-label">–</div>

                <input type="date" id="current-date-input" class="date-field">
            </div>

            <button id="next-day-btn" class="circle-btn">→</button>
        </div>

        <button id="today-btn" class="today-btn">Oggi</button>

        <!-- CARDIO -->
        <div class="field">
            <label class="field-label">
                <input type="checkbox" id="cardio-checkbox">
                Cardio completato (60' walking pad)
            </label>

            <div class="field-subtitle">Motivo se NON hai fatto il cardio</div>
            <select id="cardio-reason-select">
                <option value="">— Seleziona un motivo —</option>
                <option value="tempo">Mancanza di tempo</option>
                <option value="stanchezza">Stanchezza</option>
                <option value="salute">Problemi di salute</option>
                <option value="lavoro">Impegni di lavoro</option>
                <option value="viaggio">Viaggio / spostamenti</option>
                <option value="altro">Altro</option>
            </select>
        </div>

        <!-- ALLENAMENTO -->
        <div class="field">
            <label class="field-title">Allenamento</label>
            <select id="workout-select">
                <option value="Rest">Rest</option>
                <option value="Leg">Leg</option>
                <option value="Pull">Pull</option>
                <option value="Push">Push</option>
            </select>

            <div class="field-subtitle">
                Motivo se NON ti sei allenato (lascia vuoto se il rest è programmato)
            </div>

            <select id="workout-reason-select">
                <option value="">— Seleziona un motivo —</option>
                <option value="tempo">Mancanza di tempo</option>
                <option value="stanchezza">Stanchezza</option>
                <option value="salute">Problemi di salute</option>
                <option value="lavoro">Impegni di lavoro</option>
                <option value="viaggio">Viaggio / spostamenti</option>
                <option value="altro">Altro</option>
            </select>
        </div>

        <!-- DIETA -->
        <div class="field">
            <label class="field-label">
                <input type="checkbox" id="diet-checkbox">
                Aderenza piano alimentare
            </label>

            <div class="field-subtitle">Motivo se NON hai rispettato il piano</div>
            <select id="diet-reason-select">
                <option value="">— Seleziona un motivo —</option>
                <option value="tempo">Mancanza di tempo</option>
                <option value="stanchezza">Stanchezza</option>
                <option value="salute">Problemi di salute</option>
                <option value="lavoro">Impegni di lavoro</option>
                <option value="viaggio">Viaggio / spostamenti</option>
                <option value="altro">Altro</option>
            </select>
        </div>

        <!-- PESO DEL GIORNO -->
        <div class="field">
            <label class="field-title">Peso di oggi (kg)</label>
            <input type="number" step="0.1" id="weight-input">
        </div>

        <div class="field">
            <label class="field-title">Note</label>
            <textarea id="notes-textarea" placeholder="Eventuali note della giornata"></textarea>
        </div>

        <div id="day-complete-badge" class="day-complete" style="display:none;">
            <span class="day-complete-icon">✓</span> Giornata completata, ottimo lavoro.
        </div>
    </section>

    <!-- ==========================
         PESO OBIETTIVO (CON BARRA)
         ========================== -->
    <section class="card">
        <h2>Peso corporeo</h2>

        <div class="field">
            <label class="field-title">Peso di partenza (kg)</label>
            <input type="number" step="0.1" id="start-weight-input">
        </div>

        <div class="field">
            <label class="field-title">Peso obiettivo (kg)</label>
            <input type="number" step="0.1" id="goal-weight-input">
        </div>

        <p class="weight-status">
            Oggi: <span id="current-weight-display">–</span> kg<br>
            Avanzamento: <span id="weight-progress-percent">0%</span>
        </p>

        <!-- NUOVA PROGRESS BAR PESO -->
        <div class="progress-bar">
            <div id="weight-progress-bar" class="progress-fill"></div>
        </div>
    </section>

    <!-- ==========================
         STATISTICHE
         ========================== -->
    <section class="card">
        <h2>Statistiche</h2>

        <div class="stats-tabs">
            <button class="stats-tab active" data-mode="week">Settimana</button>
            <button class="stats-tab" data-mode="month">Mese</button>
            <button class="stats-tab" data-mode="year">Anno</button>
        </div>

        <p id="stats-mode-label" class="stats-mode-label">Settimana corrente</p>

        <div class="summary-row">
            <span>Cardio</span>
            <span id="stats-cardio-value">0 / 0</span>
            <span id="stats-cardio-percent">0%</span>
        </div>
        <div class="progress-bar"><div id="stats-cardio-progress" class="progress-fill"></div></div>

        <div class="summary-row">
            <span>Allenamenti</span>
            <span id="stats-gym-value">0 / 0</span>
            <span id="stats-gym-percent">0%</span>
        </div>
        <div class="progress-bar"><div id="stats-gym-progress" class="progress-fill"></div></div>

        <div class="summary-row">
            <span>Dieta</span>
            <span id="stats-diet-value">0 / 0</span>
            <span id="stats-diet-percent">0%</span>
        </div>
        <div class="progress-bar"><div id="stats-diet-progress" class="progress-fill"></div></div>

        <h3>Mancato rispetto</h3>

        <div class="summary-row"><span>Cardio</span><span id="stats-cardio-missed-total">0</span></div>
        <div class="summary-row"><span>Allenamenti</span><span id="stats-gym-missed-total">0</span></div>
        <div class="summary-row"><span>Dieta</span><span id="stats-diet-missed-total">0</span></div>

        <div id="stats-reasons-list" class="reasons-list"></div>
    </section>

    <!-- ==========================
         INTERVALLO PERSONALIZZATO
         ========================== -->
    <section class="card">
        <h2>Intervallo personalizzato</h2>

        <div class="range-row">
            <label>Dal <input type="date" id="range-start"></label>
            <label>Al <input type="date" id="range-end"></label>
        </div>

        <button id="range-calc-btn">Calcola statistiche</button>

        <div class="range-results">
            <div class="summary-row"><span>Cardio</span><span id="range-cardio-count">0</span></div>
            <div class="summary-row"><span>Allenamenti</span><span id="range-gym-count">0</span></div>
            <div class="summary-row"><span>Dieta</span><span id="range-diet-count">0</span></div>
        </div>
    </section>

    <p class="save-hint">I dati vengono salvati automaticamente.</p>

</div>

<script src="script.js"></script>
</body>
</html>